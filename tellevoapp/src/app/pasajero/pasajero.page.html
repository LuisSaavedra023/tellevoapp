<ion-header>
  <ion-toolbar>
    <ion-row class="animate__animated animate__lightSpeedInRight">
      <ion-col size="8">
        <span>Pasajero: </span>
        <span>interpolacion</span>
      </ion-col> 
      <span class="animate__animated animate__heartBeat" id="title">
        Tellevoapp
      </span>
    </ion-row>
  </ion-toolbar>
</ion-header>

<ion-content>

  <mat-tab-group animationDuration="2000ms"  >
    <mat-tab >
      <ng-template mat-tab-label >
        <mat-icon class="example-tab-icon">home</mat-icon>
        Inicio
      </ng-template>
      <!-- maps -->
      <div id="map"></div>
      <!-- maps -->
      <!-- si existen conductores disponibles en la bd se permitirá al pasajero ingresar la dirección, seleccionar un conductor y comenzar el viaje, en caso contrario de mostrará el template con el alias nodrivers -->
      <ng-container *ngIf="conductores.length > 0 else nodrivers">

        <ion-item  id="input-driver" >
          <ion-label class="label-input">Dirección:</ion-label>
          <ion-input placeholder="ej: calle viva #174" [clearInput]="true" type="text" minlenght="15" maxlength="30" ></ion-input>
          <button mat-raised-button id="color-button">
            <mat-icon>check</mat-icon>
          </button>
        </ion-item>
        
        <div class="mat-elevation-z8" >
          <table mat-table [dataSource]="dataDrivers" id="table">
        
            <ng-container matColumnDef="conductor" >
              <th mat-header-cell *matHeaderCellDef class="font-th" > Conductor </th>
              <td mat-cell *matCellDef="let element" class="font-td"> {{element.nombre}} </td>
            </ng-container>
        
            <ng-container matColumnDef="patente">
              <th mat-header-cell *matHeaderCellDef class="font-th"> Patente </th>
              <td mat-cell *matCellDef="let element" class="font-td"> {{element.patente}} </td>
            </ng-container>
        
            <ng-container matColumnDef="tarifa">
              <th mat-header-cell *matHeaderCellDef class="font-th"> Tarifa </th>
              <td mat-cell *matCellDef="let element" class="font-td"> {{element.tarifa}} </td>
            </ng-container>
        
            <tr mat-header-row *matHeaderRowDef="displayedDrivers"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedDrivers;"></tr>
            
          </table>
          <mat-paginator [pageSizeOptions]="[3]"
                         showFirstLastButtons>
          </mat-paginator>
          
        </div>
        <ion-footer id="footer" class="animate__animated animate__fadeInUp">
      
          <button mat-raised-button id="button-init">
            <mat-icon> local_taxi</mat-icon>
            Iniciar
          </button>
        
          <button mat-raised-button id="button-cancel">
            <mat-icon> close</mat-icon>
            Cancelar
          </button>
        
          <button mat-raised-button id="button-exit"  [routerLink]="['/home']">
            <mat-icon>reply</mat-icon>
            Salir
          </button>

        </ion-footer>
      </ng-container>
      <!-- Si no existen conductores en la bd se mostrará el siguiente template -->
      <ng-template #nodrivers >
        <div id="nodrivers">
          <span class="material-icons md-48 animate__animated animate__zoomOutRight" id="error-icon">
            person
          </span>
          <span id="position">No se registran conductores disponibles</span>
        </div>
        <ion-footer id="footer" class="animate__animated animate__fadeInUp">
      
          <button mat-raised-button id="button-exit-error"  [routerLink]="['/home']">
            <mat-icon>reply</mat-icon>
            Salir
          </button>

        </ion-footer>
      </ng-template>
      
    </mat-tab>
    <!-- **********registro vehículo********** -->
    <mat-tab>
      <ng-template mat-tab-label>
        <mat-icon class="example-tab-icon">security</mat-icon>
        Registrar
      </ng-template>

        <form action="">
          <div >
            <ion-row class="center">
              <ion-item  fill="solid" id="custom-item" counter="true" [counterFormatter]="customCounterFormatter">
                <ion-label position="floating" class="fuente">
                  Patente
                </ion-label>
                <ion-input type="text" minlenght="6" maxlength="6" placeholder="ej:xxyy99" class="custom" ></ion-input>
              </ion-item>
            </ion-row>
            <ion-row class="center">
              <ion-item fill="solid" counter="true" >
                <ion-label position="floating" class="fuente">
                  Dirección
                </ion-label>
                <ion-input type="text" minlenght="15" maxlength="30" placeholder="ej:calle siempre viva #174" class="custom" ></ion-input>
              </ion-item>
            </ion-row>
            <ion-row class="center">
              <ion-item fill="solid" counter="true" >
                <ion-label position="floating" class="fuente">
                  Tarifa
                </ion-label>
                <ion-input type="text" minlenght="3" maxlength="4" placeholder="ej: 1000" class="custom" ></ion-input>
              </ion-item>
            </ion-row>
            <ion-row class="center">
              <ion-item class="ion-text-center">
                <ion-select interface="popover" placeholder="Seleccione capacidad" >
                  <ion-select-option value="1" class="ion-text-center">
                    1
                  </ion-select-option>
                  <ion-select-option value="2" class="ion-text-center">
                    2
                  </ion-select-option>
                  <ion-select-option value="3" class="ion-text-center">
                    3
                  </ion-select-option>
                  <ion-select-option value="4" class="ion-text-center">
                    4
                  </ion-select-option>
                </ion-select>
              </ion-item>
            </ion-row>
            <ion-row class="center">
              <ion-item class="ion-text-center">
                <ion-select interface="popover" placeholder="Seleccione sede" >
                  <ion-select-option value="Puente Alto" class="ion-text-center">
                    Puente Alto
                  </ion-select-option>
                  <ion-select-option value="Maipú" class="ion-text-center">
                    Maipú
                  </ion-select-option>
                  <ion-select-option value="Antonio Varas" class="ion-text-center">
                    Antonio Varas
                  </ion-select-option>
                  <ion-select-option value="La Florida" class="ion-text-center">
                    La Florida
                  </ion-select-option>
                </ion-select>
              </ion-item>
            </ion-row>
          </div>
          <ion-footer id="footer" class="animate__animated animate__fadeInUp">
            <button mat-raised-button id="button1" >
              Registrar
              <mat-icon> save </mat-icon>
            </button>

            <button mat-raised-button id="button2" [routerLink]="['/home']">
              Salir
              <mat-icon> reply </mat-icon>
            </button>
          </ion-footer>
        </form>
    </mat-tab>
    <!-- **********registro vehículo********** -->
    <!-- **********historial de viajes********** -->
    <mat-tab >
      <ng-template mat-tab-label>
        <mat-icon class="example-tab-icon">cloud_queue</mat-icon>
        Historial
      </ng-template>
      
      <ng-container *ngIf="pasajeros.length > 0 else notravels">
      
        <div class="mat-elevation-z8"  class="ion-padding">
        <table mat-table [dataSource]="dataSource" >
      
          <!-- Position Column -->
          <ng-container matColumnDef="pasajero">
            <th mat-header-cell *matHeaderCellDef> Pasajero </th>
            <td mat-cell *matCellDef="let element"> {{element.nombre}} </td>
          </ng-container>
      
          <!-- Name Column -->
          <ng-container matColumnDef="direccion">
            <th mat-header-cell *matHeaderCellDef> Dirección </th>
            <td mat-cell *matCellDef="let element" > {{element.direccion}} </td>
          </ng-container>
      
          <!-- Weight Column -->
          <ng-container matColumnDef="tarifa">
            <th mat-header-cell *matHeaderCellDef> Tarifa </th>
            <td mat-cell *matCellDef="let element" > {{element.tarifa}} </td>
          </ng-container>
      
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
      
        <mat-paginator [pageSizeOptions]="[5]"
                       showFirstLastButtons>
        </mat-paginator>
      </div>
      
      <ion-footer id="footer" class="animate__animated animate__fadeInUp">
          <button mat-raised-button shape="round"  id="button3" class="center" [routerLink]="['/home']">
            Salir
            <mat-icon > reply </mat-icon>
          </button>
      </ion-footer>
    
    </ng-container>

    <ng-template #notravels >
      <div id="nodrivers">
        <span class="material-icons md-48 animate__animated animate__shakeX" id="error-icon-historial">
          cloud_queue
        </span>
        <span id="position">No tienes viajes realizados</span>
      </div>
      <ion-footer id="footer" class="animate__animated animate__fadeInUp">
    
        <button mat-raised-button id="button-exit-error"  [routerLink]="['/home']">
          <mat-icon>reply</mat-icon>
          Salir
        </button>

      </ion-footer>
    </ng-template>
    </mat-tab>
    <!-- **********historial de viajes********** -->
  </mat-tab-group>

</ion-content>
